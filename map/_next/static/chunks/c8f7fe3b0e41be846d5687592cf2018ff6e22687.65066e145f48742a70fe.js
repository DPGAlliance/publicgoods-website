(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[3],{"5f3V":function(t,o,e){"use strict";function r(t,o,e){if(null!==t){var n,i,a,s,u,c,p,l,f,h,d=0,m=0,y=t.type,g="FeatureCollection"===y,v="Feature"===y,b=g?t.features.length:1;for(n=0;n<b;n++)for(p=(h=!!(f=g?t.features[n].geometry:v?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1,i=0;i<p;i++){var w=0;if(null!==(c=h?f.geometries[i]:f)){l=c.coordinates;var C=c.type;switch(d=!e||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":o(l,m,n,w),m++,w++;break;case"LineString":case"MultiPoint":for(a=0;a<l.length;a++)o(l[a],m,n,w),m++,"MultiPoint"===C&&w++;"LineString"===C&&w++;break;case"Polygon":case"MultiLineString":for(a=0;a<l.length;a++){for(s=0;s<l[a].length-d;s++)o(l[a][s],m,n,w),m++;"MultiLineString"===C&&w++}"Polygon"===C&&w++;break;case"MultiPolygon":for(a=0;a<l.length;a++){for(s=0;s<l[a].length;s++)for(u=0;u<l[a][s].length-d;u++)o(l[a][s][u],m,n,w),m++;w++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)r(c.geometries[a],o,e);break;default:throw new Error("Unknown Geometry Type")}}}}}function n(t,o,e,n){var i=e;return r(t,(function(t,r,n,a){i=0===r&&void 0===e?t:o(i,t,r,n,a)}),n),i}function i(t,o){var e;switch(t.type){case"FeatureCollection":for(e=0;e<t.features.length;e++)o(t.features[e].properties,e);break;case"Feature":o(t.properties,0)}}function a(t,o,e){var r=e;return i(t,(function(t,n){r=0===n&&void 0===e?t:o(r,t,n)})),r}function s(t,o){if("Feature"===t.type)o(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length;e++)o(t.features[e],e)}function u(t,o,e){var r=e;return s(t,(function(t,n){r=0===n&&void 0===e?t:o(r,t,n)})),r}function c(t){var o=[];return r(t,(function(t){o.push(t)})),o}function p(t,o){var e,r,n,i,a,s,u,c,p=0,l="FeatureCollection"===t.type,f="Feature"===t.type,h=l?t.features.length:1;for(e=0;e<h;e++){for(s=l?t.features[e].geometry:f?t.geometry:t,c=l?t.features[e].properties:f?t.properties:{},a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,n=0;n<a;n++)if(null!==(i=u?s.geometries[n]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":o(i,p,c);break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)o(i.geometries[r],p,c);break;default:throw new Error("Unknown Geometry Type")}else o(null,p,c);p++}}function l(t,o,e){var r=e;return p(t,(function(t,n,i){r=0===n&&void 0===e?t:o(r,t,n,i)})),r}function f(t,o){p(t,(function(t,e,r){var n,i=null===t?null:t.type;switch(i){case null:case"Point":case"LineString":case"Polygon":return void o(y(t,r),e,0)}switch(i){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}t.coordinates.forEach((function(t,i){o(y({type:n,coordinates:t},r),e,i)}))}))}function h(t,o,e){var r=e;return f(t,(function(t,n,i){r=0===n&&0===i&&void 0===e?t:o(r,t,n,i)})),r}function d(t,o){f(t,(function(t,e,r){var i=0;if(t.geometry){var a=t.geometry.type;"Point"!==a&&"MultiPoint"!==a&&n(t,(function(n,a){var s=g([n,a],t.properties);return o(s,e,r,i),i++,a}))}}))}function m(t,o,e){var r=e,n=!1;return d(t,(function(t,i,a,s){r=!1===n&&void 0===e?t:o(r,t,i,a,s),n=!0})),r}function y(t,o){if(void 0===t)throw new Error("No geometry passed");return{type:"Feature",properties:o||{},geometry:t}}function g(t,o){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:o||{},geometry:{type:"LineString",coordinates:t}}}function v(t,o){if(!t)throw new Error("geojson is required");var e=t.geometry?t.geometry.type:t.type;if(!e)throw new Error("invalid geojson");if("FeatureCollection"===e)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===e)throw new Error("GeometryCollection is not supported");var r=t.geometry?t.geometry.coordinates:t.coordinates;if(!r)throw new Error("geojson must contain coordinates");switch(e){case"LineString":return void o(r,0,0);case"Polygon":case"MultiLineString":for(var n=0,i=0;i<r.length;i++)"MultiLineString"===e&&(n=i),o(r[i],i,n);return;case"MultiPolygon":for(var a=0;a<r.length;a++)for(var s=0;s<r[a].length;s++)o(r[a][s],s,a);return;default:throw new Error(e+" geometry not supported")}}function b(t,o,e){var r=e;return v(t,(function(t,n,i){r=0===n&&void 0===e?t:o(r,t,n,i)})),r}e.r(o),e.d(o,"coordEach",(function(){return r})),e.d(o,"coordReduce",(function(){return n})),e.d(o,"propEach",(function(){return i})),e.d(o,"propReduce",(function(){return a})),e.d(o,"featureEach",(function(){return s})),e.d(o,"featureReduce",(function(){return u})),e.d(o,"coordAll",(function(){return c})),e.d(o,"geomEach",(function(){return p})),e.d(o,"geomReduce",(function(){return l})),e.d(o,"flattenEach",(function(){return f})),e.d(o,"flattenReduce",(function(){return h})),e.d(o,"segmentEach",(function(){return d})),e.d(o,"segmentReduce",(function(){return m})),e.d(o,"feature",(function(){return y})),e.d(o,"lineString",(function(){return g})),e.d(o,"lineEach",(function(){return v})),e.d(o,"lineReduce",(function(){return b}))},"8oxB":function(t,o){var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(o){try{return e.call(null,t,0)}catch(o){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],p=!1,l=-1;function f(){p&&u&&(p=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!p){var t=s(f);p=!0;for(var o=c.length;o;){for(u=c,c=[];++l<o;)u&&u[l].run();l=-1,o=c.length}u=null,p=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(o){try{return r.call(null,t)}catch(o){return r.call(this,t)}}}(t)}}function d(t,o){this.fun=t,this.array=o}function m(){}n.nextTick=function(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];c.push(new d(t,o)),1!==c.length||p||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},MmBA:function(t,o){function e(t){var o=[];for(var e in t)o.push(e);return o}(t.exports="function"===typeof Object.keys?Object.keys:e).shim=e},"QJ+7":function(t,o,e){var r=e("5f3V").coordEach;t.exports=function(t){var o=[1/0,1/0,-1/0,-1/0];return r(t,(function(t){o[0]>t[0]&&(o[0]=t[0]),o[1]>t[1]&&(o[1]=t[1]),o[2]<t[0]&&(o[2]=t[0]),o[3]<t[1]&&(o[3]=t[1])})),o}},dOe4:function(t,o){function e(t,o,e,r){if(void 0===t)throw new Error("geometry is required");if(o&&o.constructor!==Object)throw new Error("properties must be an Object");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var n={type:"Feature"};return r&&(n.id=r),e&&(n.bbox=e),n.properties=o||{},n.geometry=t,n}function r(t,o,r,n){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!d(t[0])||!d(t[1]))throw new Error("Coordinates must contain numbers");return e({type:"Point",coordinates:t},o,r,n)}function n(t,o,r,n){if(!t)throw new Error("No coordinates passed");for(var i=0;i<t.length;i++){var a=t[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===i&&0===s&&!d(a[0][0])||!d(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},o,r,n)}function i(t,o,r,n){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!d(t[0][1])||!d(t[0][1]))throw new Error("Coordinates must contain numbers");return e({type:"LineString",coordinates:t},o,r,n)}function a(t,o,r,n){if(!t)throw new Error("No coordinates passed");return e({type:"MultiLineString",coordinates:t},o,r,n)}function s(t,o,r,n){if(!t)throw new Error("No coordinates passed");return e({type:"MultiPoint",coordinates:t},o,r,n)}function u(t,o,r,n){if(!t)throw new Error("No coordinates passed");return e({type:"MultiPolygon",coordinates:t},o,r,n)}var c={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},p={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function l(t,o){if(void 0===t||null===t)throw new Error("radians is required");var e=c[o||"kilometers"];if(!e)throw new Error("units is invalid");return t*e}function f(t,o){if(void 0===t||null===t)throw new Error("distance is required");var e=c[o||"kilometers"];if(!e)throw new Error("units is invalid");return t/e}function h(t){if(null===t||void 0===t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}t.exports={feature:e,geometry:function(t,o,e){if(!t)throw new Error("type is required");if(!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");var c;switch(t){case"Point":c=r(o).geometry;break;case"LineString":c=i(o).geometry;break;case"Polygon":c=n(o).geometry;break;case"MultiPoint":c=s(o).geometry;break;case"MultiLineString":c=a(o).geometry;break;case"MultiPolygon":c=u(o).geometry;break;default:throw new Error(t+" is invalid")}return e&&(c.bbox=e),c},featureCollection:function(t,o,e){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(o&&4!==o.length)throw new Error("bbox must be an Array of 4 numbers");if(e&&-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string");var r={type:"FeatureCollection"};return e&&(r.id=e),o&&(r.bbox=o),r.features=t,r},geometryCollection:function(t,o,r,n){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},o,r,n)},point:r,multiPoint:s,lineString:i,multiLineString:a,polygon:n,multiPolygon:u,radiansToDistance:l,distanceToRadians:f,distanceToDegrees:function(t,o){return h(f(t,o))},radians2degrees:h,degrees2radians:function(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180},bearingToAngle:function(t){if(null===t||void 0===t)throw new Error("bearing is required");var o=t%360;return o<0&&(o+=360),o},convertDistance:function(t,o,e){if(null===t||void 0===t)throw new Error("distance is required");if(!(t>=0))throw new Error("distance must be a positive number");return l(f(t,o),e||"kilometers")},convertArea:function(t,o,e){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=p[o||"meters"];if(!r)throw new Error("invalid original units");var n=p[e||"kilometers"];if(!n)throw new Error("invalid final units");return t/r*n},round:function(t,o){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(o&&!(o>=0))throw new Error("precision must be a positive number");var e=Math.pow(10,o||0);return Math.round(t*e)/e},isNumber:d}},f66B:function(t,o,e){var r=Array.prototype.slice,n=e("MmBA"),i=e("mX2D"),a=t.exports=function(t,o,e){return e||(e={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?e.strict?t===o:t==o:function(t,o,e){var c,p;if(s(t)||s(o))return!1;if(t.prototype!==o.prototype)return!1;if(i(t))return!!i(o)&&(t=r.call(t),o=r.call(o),a(t,o,e));if(u(t)){if(!u(o))return!1;if(t.length!==o.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==o[c])return!1;return!0}try{var l=n(t),f=n(o)}catch(h){return!1}if(l.length!=f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!=f[c])return!1;for(c=l.length-1;c>=0;c--)if(p=l[c],!a(t[p],o[p],e))return!1;return typeof t===typeof o}(t,o,e))};function s(t){return null===t||void 0===t}function u(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}},mX2D:function(t,o){var e="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function n(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(o=t.exports=e?r:n).supported=r,o.unsupported=n},rG3h:function(t,o,e){},ul2v:function(t,o,e){"use strict";e.d(o,"b",(function(){return V})),e.d(o,"a",(function(){return c}));var r=e("4ZJM"),n=e("q1tI"),i=function(){return(i=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},a={onResize:"resize",onDblClick:"dblclick",onClick:"click",onMouseMove:"mousemove",onMouseOut:"mouseout",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onMouseUp:"mouseup",onMouseDown:"mousedown",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onPitch:"pitch",onPitchStart:"pitchstart",onPitchEnd:"pitchend",onWebGlContextLost:"webglcontextlost",onWebGlContextRestored:"webglcontextrestored",onRemove:"remove",onContextMenu:"contextmenu",onRender:"render",onError:"error",onSourceData:"sourcedata",onDataLoading:"dataloading",onStyleDataLoading:"styledataloading",onStyleImageMissing:"styleimagemissing",onTouchCancel:"touchcancel",onData:"data",onSourceDataLoading:"sourcedataloading",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onStyleData:"styledata",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onBoxZoomCancel:"boxzoomcancel",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend"},s=function(t,o,e){return Object.keys(t).reduce((function(r,n){var i=o[n];if(i){var a=function(t){i(e,t)};e.on(t[n],a),r[n]=a}return r}),{})},u=function(){return(u=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},c=n.createContext(void 0);function p(t){return function(o){return n.createElement(c.Consumer,null,(function(e){return n.createElement(t,u({map:e},o))}))}}var l=e("i8i4"),f=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h=function(){return(h=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},d=e("f66B"),m=[11],y="flyTo",g=[-.2416815,51.5285582],v=function(t){var o,u=t.accessToken,p=t.apiUrl,v=t.minZoom,b=void 0===v?0:v,w=t.maxZoom,C=void 0===w?20:w,M=t.hash,O=void 0!==M&&M,E=t.preserveDrawingBuffer,_=void 0!==E&&E,P=t.scrollZoom,S=void 0===P||P,x=t.interactive,k=void 0===x||x,j=t.dragRotate,L=void 0===j||j,A=t.pitchWithRotate,I=void 0===A||A,z=t.attributionControl,D=void 0===z||z,F=t.customAttribution,T=t.logoPosition,R=void 0===T?"bottom-left":T,Z=t.renderWorldCopies,N=void 0===Z||Z,B=t.trackResize,U=void 0===B||B,W=t.touchZoomRotate,J=void 0===W||W,q=t.doubleClickZoom,G=void 0===q||q,H=t.keyboard,Q=void 0===H||H,V=t.dragPan,X=void 0===V||V,$=t.boxZoom,K=void 0===$||$,Y=t.refreshExpiredTiles,tt=void 0===Y||Y,ot=t.failIfMajorPerformanceCaveat,et=void 0!==ot&&ot,rt=t.bearingSnap,nt=void 0===rt?7:rt,it=t.injectCSS,at=void 0===it||it,st=t.antialias,ut=void 0!==st&&st,ct=t.transformRequest;return at&&e("rG3h"),(o=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={map:void 0,ready:!1},o.listeners={},o._isMounted=!0,o.calcCenter=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},o.setRef=function(t){o.container=t},o}return f(o,t),o.prototype.componentDidMount=function(){var t=this,o=this.props,e=o.style,n=o.onStyleLoad,i=o.center,c=o.pitch,l=o.zoom,f=o.fitBounds,h=o.fitBoundsOptions,d=o.bearing,m=o.maxBounds;if(r.accessToken=u,p&&(r.config.API_URL=p),!Array.isArray(l))throw new Error("zoom need to be an array type of length 1 for reliable update");var y={preserveDrawingBuffer:_,hash:O,zoom:l[0],minZoom:b,maxZoom:C,maxBounds:m,container:this.container,center:f&&i===g?this.calcCenter(f):i,style:e,scrollZoom:S,attributionControl:D,customAttribution:F,interactive:k,dragRotate:L,pitchWithRotate:I,renderWorldCopies:N,trackResize:U,touchZoomRotate:J,doubleClickZoom:G,keyboard:Q,dragPan:X,boxZoom:K,refreshExpiredTiles:tt,logoPosition:R,bearingSnap:nt,failIfMajorPerformanceCaveat:et,antialias:ut,transformRequest:ct};if(d){if(!Array.isArray(d))throw new Error("bearing need to be an array type of length 1 for reliable update");y.bearing=d[0]}if(c){if(!Array.isArray(c))throw new Error("pitch need to be an array type of length 1 for reliable update");y.pitch=c[0]}var v=new r.Map(y);this.setState({map:v}),f&&v.fitBounds(f,h,{fitboundUpdate:!0}),v.on("load",(function(o){t._isMounted&&t.setState({ready:!0}),n&&n(v,o)})),this.listeners=s(a,this.props,v)},o.prototype.componentWillUnmount=function(){var t=this.state.map;this._isMounted=!1,t&&t.remove()},o.prototype.UNSAFE_componentWillReceiveProps=function(t){var o=this.state.map;if(!o)return null;this.listeners=function(t,o,e){Object.keys(a).filter((function(e){return t[e]&&o[e]!==t[e]})).forEach((function(o){e.off(a[o],t[o]),delete t[o]}));var r=Object.keys(a).filter((function(t){return"function"===typeof o[t]})).reduce((function(t,o){return t[o]=a[o],t}),{}),n=s(r,o,e);return i({},t,n)}(this.listeners,t,o);var e=o.getCenter(),r=o.getZoom(),n=o.getBearing(),u=o.getPitch(),c=this.props.zoom!==t.zoom&&(t.zoom&&t.zoom[0])!==r,p=this.props.center!==t.center&&((t.center&&t.center[0])!==e.lng||(t.center&&t.center[1])!==e.lat),l=this.props.bearing!==t.bearing&&(t.bearing&&t.bearing[0])!==n,f=this.props.pitch!==t.pitch&&(t.pitch&&t.pitch[0])!==u;t.maxBounds&&(this.props.maxBounds!==t.maxBounds&&o.setMaxBounds(t.maxBounds));if(t.fitBounds){var m=this.props.fitBounds;!(m!==t.fitBounds||t.fitBounds.length!==(m&&m.length)||!!m.filter((function(o,e){var r=t.fitBounds&&t.fitBounds[e];return o[0]!==(r&&r[0])||o[1]!==(r&&r[1])}))[0])&&d(this.props.fitBoundsOptions,t.fitBoundsOptions)||o.fitBounds(t.fitBounds,t.fitBoundsOptions,{fitboundUpdate:!0})}if(c||p||l||f){var g=t.movingMethod||y,v=t.flyToOptions,b=t.animationOptions;o[g](h({},b,v,{zoom:c&&t.zoom?t.zoom[0]:r,center:p?t.center:e,bearing:l?t.bearing:n,pitch:f?t.pitch:u}))}return d(this.props.style,t.style)||o.setStyle(t.style),null},o.prototype.render=function(){var t=this.props,o=t.containerStyle,e=t.className,r=t.children,i=t.renderChildrenInPortal,a=this.state,s=a.ready,u=a.map;if(i){var p=s&&u&&"function"===typeof u.getCanvasContainer?u.getCanvasContainer():void 0;return n.createElement(c.Provider,{value:u},n.createElement("div",{ref:this.setRef,className:e,style:h({},o)},s&&p&&Object(l.createPortal)(r,p)))}return n.createElement(c.Provider,{value:u},n.createElement("div",{ref:this.setRef,className:e,style:h({},o)},s&&r))},o}(n.Component)).defaultProps={onStyleLoad:function(t,o){return null},center:g,zoom:m,bearing:0,movingMethod:y,pitch:0,containerStyle:{textAlign:"left"}},o},b=function(t,o){var e={};return Array.from(new Set(Object.keys(t).concat(Object.keys(o)))).map((function(r){t[r]!==o[r]&&(e[r]=o[r])})),e},w=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),C=function(){return(C=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},M=e("f66B"),O={touchstart:"onTouchStart",touchend:"onTouchEnd",touchcancel:"onTouchCancel",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick"},E=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.source=C({type:"geojson"},o.props.geoJSONSourceOptions,{data:{type:"FeatureCollection",features:[]}}),o.geometry=function(t){switch(o.props.type){case"symbol":case"circle":return{type:"Point",coordinates:t};case"fill":return Array.isArray(t[0][0][0])?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t};case"line":return{type:"LineString",coordinates:t};default:return{type:"Point",coordinates:t}}},o.makeFeature=function(t,e){return{type:"Feature",geometry:o.geometry(t.coordinates),properties:C({},t.properties,{id:e})}},o.initialize=function(){var t=o.props,e=t.type,r=t.layout,n=t.paint,i=t.sourceId,a=t.before,s=t.images,u=t.id,c=t.metadata,p=t.sourceLayer,l=t.minZoom,f=t.maxZoom,h=t.filter,d=o.props.map,m={id:u,source:i||u,type:e,layout:r,paint:n,metadata:c};(p&&(m["source-layer"]=p),l&&(m.minzoom=l),f&&(m.maxzoom=f),h&&(m.filter=h),s)&&(Array.isArray(s[0])?s:[s]).filter((function(t){return!d.hasImage(t[0])})).forEach((function(t){d.addImage(t[0],t[1],t[2])}));i||d.getSource(u)||d.addSource(u,o.source),d.getLayer(u)||d.addLayer(m,a),Object.entries(O).forEach((function(t){var e=t[0],r=t[1],n=o.props[r];n&&d.on(e,u,n)}))},o.onStyleDataChange=function(){o.props.map.getLayer(o.props.id)||(o.initialize(),o.forceUpdate())},o.getChildren=function(){var t=o.props.children;return t?Array.isArray(t)?t.reduce((function(t,o){return t.concat(o)}),[]):[t]:[]},o}return w(o,t),o.prototype.UNSAFE_componentWillMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},o.prototype.componentWillUnmount=function(){var t=this,o=this.props.map,e=this.props,r=e.images,n=e.id;o&&o.getStyle()&&(o.off("styledata",this.onStyleDataChange),Object.entries(O).forEach((function(e){var r=e[0],i=e[1],a=t.props[i];a&&o.off(r,n,a)})),o.getLayer(n)&&o.removeLayer(n),this.props.sourceId||o.removeSource(n),r&&(Array.isArray(r[0])?r:[r]).map((function(t){var o=t[0];t.slice(1);return o})).forEach(o.removeImage.bind(o)))},o.prototype.UNSAFE_componentWillReceiveProps=function(t){var o=this,e=this.props,r=e.paint,n=e.layout,i=e.before,a=e.filter,s=e.id,u=e.minZoom,c=e.maxZoom,p=this.props.map;if(!M(t.paint,r)){var l=b(r,t.paint);Object.keys(l).forEach((function(t){p.setPaintProperty(s,t,l[t])}))}if(!M(t.layout,n)){var f=b(n,t.layout);Object.keys(f).forEach((function(t){p.setLayoutProperty(s,t,f[t])}))}M(t.filter,a)||p.setFilter(s,t.filter),i!==t.before&&p.moveLayer(s,t.before),u===t.minZoom&&c===t.maxZoom||p.setLayerZoomRange(s,t.minZoom,t.maxZoom),Object.entries(O).forEach((function(e){var r=e[0],n=e[1],i=o.props[n],a=t[n];i!==a&&(i&&p.off(r,s,i),a&&p.on(r,s,a))}))},o.prototype.render=function(){var t=this,o=this.props.map,e=this.props,r=e.sourceId,n=e.draggedChildren,i=this.getChildren();if(n){var a=n.map((function(t){return t.key}));i=i.map((function(t){var o=a.indexOf(t.key);return-1!==o?n[o]:t}))}var s=i.map((function(o,e){var r=o.props;return t.makeFeature(r,e)})).filter(Boolean),u=o.getSource(r||this.props.id);return u&&!r&&u.setData&&u.setData({type:"FeatureCollection",features:s}),null},o.defaultProps={type:"symbol",layout:{},paint:{}},o}(n.Component),_=0,P=function(){return _+=1},S=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x=function(){return(x=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)};var k=function(t){return function(o){function e(){var t=null!==o&&o.apply(this,arguments)||this;return t.hover=[],t.draggedChildren=void 0,t.id=t.props.id||"layer-"+P(),t.getChildren=function(){return[].concat(t.props.children).filter((function(t){return"undefined"!==typeof t}))},t.getChildFromId=function(t,o){return t[o]},t.areFeaturesDraggable=function(o,e){return void 0===e&&(e=t.hover),!!e.map((function(e){return!!t.getChildFromId(o,e)&&t.getChildFromId(o,e).props.draggable})).filter(Boolean).length},t.onClick=function(o){var e=o.features,r=t.getChildren(),n=t.props.map;e&&e.forEach((function(e){var i=e.properties.id;if(r){var a=t.getChildFromId(r,i),s=a&&a.props.onClick;s&&s(x({},o,{feature:e,map:n}))}}))},t.onMouseEnter=function(o){var e=t.getChildren(),r=t.props.map;t.hover=[],o.features.forEach((function(n){var i=n.properties.id,a=t.getChildFromId(e,i);t.hover.push(i);var s=a&&a.props.onMouseEnter;s&&s(x({},o,{feature:n,map:r}))})),t.areFeaturesDraggable(e)&&r.dragPan.disable()},t.onMouseLeave=function(o){var e=t.getChildren(),r=t.props.map;t.areFeaturesDraggable(e)&&r.dragPan.enable(),t.hover.forEach((function(n){var i=t.getChildFromId(e,n),a=i&&i.props.onMouseLeave;a&&a(x({},o,{map:r}))})),t.draggedChildren||(t.hover=[])},t.onMouseDown=function(){t.hover.length&&t.onFeatureDown("mousedown")},t.onTouchStart=function(o){t.hover=o.features.map((function(t){return t.properties.id})),t.hover.length&&t.onFeatureDown("touchstart")},t.onFeatureDown=function(o){var e="mousedown"===o?"mousemove":"touchmove",r="mousedown"===o?"mouseup":"touchend",n=t.props.map;n.once(e,t.onFeatureDragStart),n.on(e,t.onFeatureDrag),n.once(r,(function(o){n.off(e,t.onFeatureDragStart),n.off(e,t.onFeatureDrag),t.onFeatureDragEnd(o)}))},t.onFeatureDragStart=function(o){var e=t.props.map,r=t.getChildren();t.hover.forEach((function(n){var i=t.getChildFromId(r,n);if(!i||i.props.draggable){var a=i&&i.props.onDragStart;a&&a(x({},o,{map:e}))}}))},t.onFeatureDrag=function(o){var e=t.getChildren(),r=t.props.map,i=o.lngLat,a=i.lng,s=i.lat;t.draggedChildren=[],t.hover.forEach((function(i){var u=t.getChildFromId(e,i),c=u&&u.props.onDrag;u&&u.props.draggable&&(t.draggedChildren.push(n.cloneElement(u,{coordinates:[a,s]})),c&&c(x({},o,{map:r})))})),t.forceUpdate()},t.onFeatureDragEnd=function(o){var e=t.props.map,r=t.getChildren();t.hover.forEach((function(n){var i=t.getChildFromId(r,n),a=i&&i.props.onDragEnd;a&&i.props.draggable&&t.draggedChildren&&a(x({},o,{map:e}))})),t.draggedChildren=void 0},t}return S(e,o),e.prototype.UNSAFE_componentWillMount=function(){var t=this.props.map;t.on("click",this.id,this.onClick),t.on("mouseenter",this.id,this.onMouseEnter),t.on("mouseleave",this.id,this.onMouseLeave),t.on("mousedown",this.id,this.onMouseDown),t.on("touchstart",this.id,this.onTouchStart)},e.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("click",this.onClick),t.off("mouseenter",this.onMouseEnter),t.off("mouseleave",this.onMouseLeave),t.off("mousedown",this.onMouseDown),t.off("touchstart",this.onTouchStart)},e.prototype.render=function(){return n.createElement(t,x({},this.props,{id:this.id,map:this.props.map,draggedChildren:this.draggedChildren}))},e}(n.Component)},j=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L=function(){return(L=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},A=e("f66B"),I=["symbol","line","fill","fill-extrusion","circle"],z=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,o){return 0===o?t.toLowerCase():t.toUpperCase()})).replace(/[\s+]|-/g,"")},D={mousemove:"OnMouseMove",mouseenter:"OnMouseEnter",mouseleave:"OnMouseLeave",mousedown:"OnMouseDown",mouseup:"OnMouseUp",click:"OnClick"},F=(p(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.id=o.props.id||"geojson-"+P(),o.source=L({type:"geojson"},o.props.sourceOptions,{data:o.props.data}),o.layerIds=[],o.buildLayerId=function(t){return o.id+"-"+t},o.createLayer=function(t){var e=o.props,r=e.before,n=e.layerOptions,i=e.map,a=o.buildLayerId(t);o.layerIds.push(a);var s=o.props[z(t)+"Paint"]||{},u=Object.keys(s).length?"visible":"none",c=o.props[z(t)+"Layout"]||{visibility:u};i.addLayer(L({id:a,source:o.id,type:t,paint:s,layout:c},n),r),o.mapLayerMouseHandlers(t)},o.mapLayerMouseHandlers=function(t){var e=o.props.map,r=o.buildLayerId(t);Object.keys(D).forEach((function(n){var i=o.props[""+z(t)+D[n]]||null;i&&e.on(n,r,i)}))},o.onStyleDataChange=function(){o.props.map.getSource(o.id)||(o.unbind(),o.initialize(),o.forceUpdate())},o.isGeoJSONSource=function(t){return!!t&&"function"===typeof t.setData},o}return j(o,t),o.prototype.initialize=function(){this.props.map.addSource(this.id,this.source),this.createLayer("symbol"),this.createLayer("line"),this.createLayer("fill"),this.createLayer("fill-extrusion"),this.createLayer("circle")},o.prototype.unbind=function(){var t=this,o=this.props.map;if(o.getSource(this.id)){var e=o.getStyle().layers;e&&e.filter((function(o){return o.source===t.id})).forEach((function(t){return o.removeLayer(t.id)})),o.removeSource(this.id)}I.forEach((function(e){Object.keys(D).forEach((function(r){var n=z(e)+D[r];t.props[n]&&o.off(r,t.buildLayerId(e),t.props[n])}))})),this.layerIds.forEach((function(t){o.getLayer(t)&&o.removeLayer(t)}))},o.prototype.UNSAFE_componentWillMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},o.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.unbind())},o.prototype.UNSAFE_componentWillReceiveProps=function(t){var o=this,e=this.props,r=e.data,n=e.before,i=e.layerOptions,a=e.map,s=a.getSource(this.id);if(this.isGeoJSONSource(s)){t.data!==r&&(s.setData(t.data),this.source=L({type:"geojson"},t.sourceOptions,{data:t.data}));var u=t.layerOptions&&i&&!A(t.layerOptions.filter,i.filter);I.forEach((function(e){var r=o.buildLayerId(e);t.layerOptions&&u&&a.setFilter(r,t.layerOptions.filter||[]);var i=z(e)+"Paint";if(!A(t[i],o.props[i])){var s=b(o.props[i],t[i]);Object.keys(s).forEach((function(t){a.setPaintProperty(r,t,s[t])}))}var c=z(e)+"Layout";if(!A(t[c],o.props[c])){var p=b(o.props[c],t[c]);Object.keys(p).forEach((function(t){a.setLayoutProperty(r,t,p[t])}))}Object.keys(D).forEach((function(n){var i=z(e)+D[n];t[i]!==o.props[i]&&(o.props[i]&&a.off(n,r,o.props[i]),t[i]&&a.on(n,r,t[i]))})),n!==t.before&&a.moveLayer(r,t.before)}))}},o.prototype.render=function(){return null},o}(n.Component)),function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),T=(function(t){function o(){return null!==t&&t.apply(this,arguments)||this}F(o,t),o.prototype.render=function(){return null}}(n.Component),function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),R=function(){return(R=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},Z={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},N={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},B={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,backgroundImage:"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')",backgroundPosition:"0px 0px",backgroundSize:"26px 260px",outline:0},U={backgroundColor:"#fff",opacity:1},W={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2},J={backgroundPosition:"0px -26px",borderBottomLeftRadius:2,borderBottomRightRadius:2},q=[0,1],G=q[0],H=q[1],Q=Object.keys(N),V=p(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={hover:void 0},o.onMouseOut=function(){o.setState({hover:void 0})},o.plusOver=function(){G!==o.state.hover&&o.setState({hover:G})},o.minusOver=function(){H!==o.state.hover&&o.setState({hover:H})},o.onClickPlus=function(){o.props.onControlClick(o.props.map,o.props.zoomDiff)},o.onClickMinus=function(){o.props.onControlClick(o.props.map,-o.props.zoomDiff)},o}return T(o,t),o.prototype.render=function(){var t=this.props,o=t.position,e=t.style,r=t.className,i=t.tabIndex,a=this.state.hover,s=R({},B,W,a===G?U:{}),u=R({},B,J,a===H?U:{});return n.createElement("div",{className:r,tabIndex:i,style:R({},Z,N[o],e)},n.createElement("button",{id:"zoomIn",type:"button",style:s,"aria-label":"Zoom in",onMouseOver:this.plusOver,onMouseOut:this.onMouseOut,onClick:this.onClickPlus}),n.createElement("button",{id:"zoomOut",type:"button",style:u,"aria-label":"Zoom out",onMouseOver:this.minusOver,onMouseOut:this.onMouseOut,onClick:this.onClickMinus}))},o.defaultProps={position:Q[0],zoomDiff:.5,onControlClick:function(t,o){t.zoomTo(t.getZoom()+o)}},o}(n.Component)),X=["center","top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],$={center:"translate(-50%, -50%)",top:"translate(-50%, 0)",left:"translate(0, -50%)",right:"translate(-100%, -50%)",bottom:"translate(-50%, -100%)","top-left":"translate(0, 0)","top-right":"translate(-100%, 0)","bottom-left":"translate(0, -100%)","bottom-right":"translate(-100%, -100%)"},K={offsetWidth:0,offsetHeight:0},Y=[0,0],tt=function(t){if(!t)return tt(new r.Point(0,0));if("number"===typeof t){var o=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new r.Point(t,t),top:new r.Point(0,t),bottom:new r.Point(0,-t),left:new r.Point(t,0),right:new r.Point(-t,0),"top-left":new r.Point(o,o),"top-right":new r.Point(-o,o),"bottom-left":new r.Point(o,-o),"bottom-right":new r.Point(-o,-o)}}return t instanceof r.Point||Array.isArray(t)?X.reduce((function(o,e){return o[e]=r.Point.convert(t),o}),{}):X.reduce((function(o,e){return o[e]=r.Point.convert(t[e]||Y),o}),{})},ot=function(t,o,e){var n=function(t,o){return t.project(r.LngLat.convert(o))}(o,t.coordinates),i=tt(t.offset),a=t.anchor||function(t,o,e,r){var n=void 0===r?K:r,i=n.offsetHeight,a=n.offsetWidth,s=[];return e.y+o.bottom.y-i<0?s=[X[1]]:e.y+o.top.y+i>t.transform.height&&(s=[X[2]]),e.x<a/2?s.push(X[3]):e.x>t.transform.width-a/2&&s.push(X[4]),0===s.length?X[2]:s.join("-")}(o,i,n,e);return{anchor:a,position:n,offset:i[a]}},et=function(t){return t?"translate("+t.x.toFixed(0)+"px, "+t.y.toFixed(0)+"px)":""},rt=function(t){var o=t.anchor,e=t.position,r=t.offset,n=[];return e&&n.push(et(e)),r&&void 0!==r.x&&void 0!==r.y&&n.push(et(r)),o&&n.push($[o]),n},nt=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),it=function(){return(it=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},at={zIndex:3},st=p(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.container=void 0,o.prevent=!1,o.state={},o.setContainer=function(t){t&&(o.container=t)},o.handleMapMove=function(){o.prevent||o.setState(ot(o.props,o.props.map,o.container))},o}return nt(o,t),o.prototype.componentDidMount=function(){this.props.map.on("move",this.handleMapMove),this.handleMapMove()},o.prototype.havePropsChanged=function(t,o){return t.coordinates[0]!==o.coordinates[0]||t.coordinates[1]!==o.coordinates[1]||t.offset!==o.offset||t.anchor!==o.anchor},o.prototype.UNSAFE_componentWillReceiveProps=function(t){this.havePropsChanged(this.props,t)&&this.setState(ot(t,this.props.map,this.container))},o.prototype.componentWillUnmount=function(){var t=this.props.map;this.prevent=!0,t.off("move",this.handleMapMove)},o.prototype.render=function(){var t=this.props,o=t.style,e=t.children,r=t.className,i=t.onClick,a=t.onDoubleClick,s=t.onMouseEnter,u=t.onMouseLeave,c=t.onScroll,p=t.onWheel,l=t.type,f=t.tabIndex,h=this.state.anchor,d=it({},at,o,{transform:rt(this.state).join(" ")}),m=h&&"popup"===l?"mapboxgl-popup-anchor-"+h:"";return n.createElement("div",{className:r+" "+m,onClick:i,onDoubleClick:a,onMouseEnter:s,onMouseLeave:u,onScroll:c,onWheel:p,style:d,ref:this.setContainer,tabIndex:f},e)},o.defaultProps={offset:0,onClick:function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t}},o}(n.Component)),ut=function(t,o){return o?o.split(" ").concat(t).join(" "):t.join(" ")},ct=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pt=function(){return(pt=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},lt=["mapboxgl-popup"],ft=(function(t){function o(){return null!==t&&t.apply(this,arguments)||this}ct(o,t),o.prototype.render=function(){var t=this.props,o=t.children,e=t.className,r=pt({},this.props,{children:void 0}),i=ut(lt,e);return n.createElement(st,pt({},r,{type:"popup",className:i}),n.createElement("div",{className:"mapboxgl-popup-tip"}),n.createElement("div",{className:"mapboxgl-popup-content"},o))}}(n.Component),function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),ht=function(){return(ht=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},dt=[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4],mt={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},yt={position:"absolute",zIndex:10,boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)",right:50,backgroundColor:"#fff",opacity:.85,display:"flex",flexDirection:"row",alignItems:"baseline",padding:"3px 7px"},gt={border:"2px solid #7e8490",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",borderTop:"none",height:7,borderBottomLeftRadius:1,borderBottomRightRadius:1},vt=Object.keys(mt),bt=["km","mi"],wt=(p(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={chosenScale:0,scaleWidth:60},o.setScale=function(){var t=o.props,e=t.measurement,r=t.map,n=r._canvas.clientWidth,i=r.getBounds(),a=i._ne,s=i._sw,u=o._getDistanceTwoPoints([s.lng,a.lat],[a.lng,a.lat],e),c=u/n*60,p=dt.reduce((function(t,o){return!t&&o>c?o:t}),0),l=p/u*n;o.setState({chosenScale:p,scaleWidth:l})},o}return ft(o,t),o.prototype.UNSAFE_componentWillMount=function(){this.setScale(),this.props.map.on("zoomend",this.setScale)},o.prototype.componentWillUnmount=function(){this.props.map&&this.props.map.off("zoomend",this.setScale)},o.prototype._getDistanceTwoPoints=function(t,o,e){void 0===e&&(e="km");var r=t[0],n=t[1],i=o[0],a=o[1],s="km"===e?6371:6371/1.60934,u=this._deg2rad(a-n),c=this._deg2rad(i-r),p=Math.sin(u/2)*Math.sin(u/2)+Math.cos(this._deg2rad(n))*Math.cos(this._deg2rad(a))*Math.sin(c/2)*Math.sin(c/2);return s*(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)))},o.prototype._deg2rad=function(t){return t*(Math.PI/180)},o.prototype._displayMeasurement=function(t,o){return o>=1?o+" "+t:"mi"===t?Math.floor(5280*o)+" ft":Math.floor(1e3*o)+" m"},o.prototype.render=function(){var t=this.props,o=t.measurement,e=t.style,r=t.position,i=t.className,a=t.tabIndex,s=this.state,u=s.chosenScale,c=s.scaleWidth;return n.createElement("div",{tabIndex:a,style:ht({},yt,mt[r],e),className:i},n.createElement("div",{style:ht({},gt,{width:c})}),n.createElement("div",{style:{paddingLeft:10}},this._displayMeasurement(o,u)))},o.defaultProps={measurement:bt[0],position:vt[2]},o}(n.Component)),function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),Ct=function(){return(Ct=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)};p(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.id=o.props.id,o.onStyleDataChange=function(){o.props.map.getLayer(o.id)||(o.initialize(),o.forceUpdate())},o.initialize=function(){var t=o.props.map,e=o.props,r=e.geoJsonSource,n=e.tileJsonSource,i=e.onSourceAdded;t.getSource(o.id)||!r&&!n||(r?t.addSource(o.id,r):n&&t.addSource(o.id,n),t.on("sourcedata",o.onData),i&&i(t.getSource(o.id)))},o.onData=function(){var t=o.props.map,e=t.getSource(o.props.id);if(e&&t.isSourceLoaded(o.props.id)){var r=o.props.onSourceLoaded;e&&r&&r(e),e&&o.props.geoJsonSource&&o.props.geoJsonSource.data&&e.setData(o.props.geoJsonSource.data),t.off("sourcedata",o.onData)}},o}return wt(o,t),o.prototype.UNSAFE_componentWillMount=function(){this.props.map.on("styledata",this.onStyleDataChange),this.initialize()},o.prototype.removeSource=function(){var t=this,o=this.props.map;if(o.getSource(this.id)){var e=o.getStyle().layers,r=void 0===e?[]:e;return(r=r.map((function(t,o){var e=(r[o+1]||{id:void 0}).id;return Ct({},t,{before:e})})).filter((function(o){return o.source===t.id}))).forEach((function(t){return o.removeLayer(t.id)})),o.removeSource(this.id),r.reverse()}return[]},o.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.removeSource())},o.prototype.UNSAFE_componentWillReceiveProps=function(t){var o=this.props,e=o.geoJsonSource,r=o.tileJsonSource,n=o.map;if(r&&t.tileJsonSource&&(r.url!==t.tileJsonSource.url||r.tiles!==t.tileJsonSource.tiles||r.minzoom!==t.tileJsonSource.minzoom||r.maxzoom!==t.tileJsonSource.maxzoom)){var i=this.removeSource();n.addSource(this.id,t.tileJsonSource),i.forEach((function(t){return n.addLayer(t,t.before)}))}e&&t.geoJsonSource&&t.geoJsonSource.data!==e.data&&t.geoJsonSource.data&&n.getSource(this.id)&&n.getSource(this.id).setData(t.geoJsonSource.data)},o.prototype.render=function(){return null},o}(n.Component));function Mt(t,o,e,r,n,i){if(n-r<=e)return;const a=r+n>>1;Ot(t,o,a,r,n,i%2),Mt(t,o,e,r,a-1,i+1),Mt(t,o,e,a+1,n,i+1)}function Ot(t,o,e,r,n,i){for(;n>r;){if(n-r>600){const a=n-r+1,s=e-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);Ot(t,o,e,Math.max(r,Math.floor(e-s*c/a+p)),Math.min(n,Math.floor(e+(a-s)*c/a+p)),i)}const a=o[2*e+i];let s=r,u=n;for(Et(t,o,r,e),o[2*n+i]>a&&Et(t,o,r,n);s<u;){for(Et(t,o,s,u),s++,u--;o[2*s+i]<a;)s++;for(;o[2*u+i]>a;)u--}o[2*r+i]===a?Et(t,o,r,u):(u++,Et(t,o,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}}function Et(t,o,e,r){_t(t,e,r),_t(o,2*e,2*r),_t(o,2*e+1,2*r+1)}function _t(t,o,e){const r=t[o];t[o]=t[e],t[e]=r}function Pt(t,o,e,r){const n=t-e,i=o-r;return n*n+i*i}const St=t=>t[0],xt=t=>t[1];class kt{constructor(t,o=St,e=xt,r=64,n=Float64Array){this.nodeSize=r,this.points=t;const i=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(t.length),s=this.coords=new n(2*t.length);for(let u=0;u<t.length;u++)a[u]=u,s[2*u]=o(t[u]),s[2*u+1]=e(t[u]);Mt(a,s,r,0,a.length-1,0)}range(t,o,e,r){return function(t,o,e,r,n,i,a){const s=[0,t.length-1,0],u=[];let c,p;for(;s.length;){const l=s.pop(),f=s.pop(),h=s.pop();if(f-h<=a){for(let a=h;a<=f;a++)c=o[2*a],p=o[2*a+1],c>=e&&c<=n&&p>=r&&p<=i&&u.push(t[a]);continue}const d=Math.floor((h+f)/2);c=o[2*d],p=o[2*d+1],c>=e&&c<=n&&p>=r&&p<=i&&u.push(t[d]);const m=(l+1)%2;(0===l?e<=c:r<=p)&&(s.push(h),s.push(d-1),s.push(m)),(0===l?n>=c:i>=p)&&(s.push(d+1),s.push(f),s.push(m))}return u}(this.ids,this.coords,t,o,e,r,this.nodeSize)}within(t,o,e){return function(t,o,e,r,n,i){const a=[0,t.length-1,0],s=[],u=n*n;for(;a.length;){const c=a.pop(),p=a.pop(),l=a.pop();if(p-l<=i){for(let n=l;n<=p;n++)Pt(o[2*n],o[2*n+1],e,r)<=u&&s.push(t[n]);continue}const f=Math.floor((l+p)/2),h=o[2*f],d=o[2*f+1];Pt(h,d,e,r)<=u&&s.push(t[f]);const m=(c+1)%2;(0===c?e-n<=h:r-n<=d)&&(a.push(l),a.push(f-1),a.push(m)),(0===c?e+n>=h:r+n>=d)&&(a.push(f+1),a.push(p),a.push(m))}return s}(this.ids,this.coords,t,o,e,this.nodeSize)}}const jt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Lt=Math.fround||(At=new Float32Array(1),t=>(At[0]=+t,At[0]));var At;class It{constructor(t){this.options=Bt(Object.create(jt),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:o,minZoom:e,maxZoom:r,nodeSize:n}=this.options;o&&console.time("total time");const i=`prepare ${t.length} points`;o&&console.time(i),this.points=t;let a=[];for(let s=0;s<t.length;s++)t[s].geometry&&a.push(Dt(t[s],s));this.trees[r+1]=new kt(a,Ut,Wt,n,Float32Array),o&&console.timeEnd(i);for(let s=r;s>=e;s--){const t=+Date.now();a=this._cluster(a,s),this.trees[s]=new kt(a,Ut,Wt,n,Float32Array),o&&console.log("z%d: %d clusters in %dms",s,a.length,+Date.now()-t)}return o&&console.timeEnd("total time"),this}getClusters(t,o){let e=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let n=180===t[2]?180:((t[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)e=-180,n=180;else if(e>n){const t=this.getClusters([e,r,180,i],o),a=this.getClusters([-180,r,n,i],o);return t.concat(a)}const a=this.trees[this._limitZoom(o)],s=a.range(Rt(e),Zt(i),Rt(n),Zt(r)),u=[];for(const c of s){const t=a.points[c];u.push(t.numPoints?Ft(t):this.points[t.index])}return u}getChildren(t){const o=this._getOriginId(t),e=this._getOriginZoom(t),r="No cluster with the specified id.",n=this.trees[e];if(!n)throw new Error(r);const i=n.points[o];if(!i)throw new Error(r);const a=this.options.radius/(this.options.extent*Math.pow(2,e-1)),s=n.within(i.x,i.y,a),u=[];for(const c of s){const o=n.points[c];o.parentId===t&&u.push(o.numPoints?Ft(o):this.points[o.index])}if(0===u.length)throw new Error(r);return u}getLeaves(t,o,e){o=o||10,e=e||0;const r=[];return this._appendLeaves(r,t,o,e,0),r}getTile(t,o,e){const r=this.trees[this._limitZoom(t)],n=Math.pow(2,t),{extent:i,radius:a}=this.options,s=a/i,u=(e-s)/n,c=(e+1+s)/n,p={features:[]};return this._addTileFeatures(r.range((o-s)/n,u,(o+1+s)/n,c),r.points,o,e,n,p),0===o&&this._addTileFeatures(r.range(1-s/n,u,1,c),r.points,n,e,n,p),o===n-1&&this._addTileFeatures(r.range(0,u,s/n,c),r.points,-1,e,n,p),p.features.length?p:null}getClusterExpansionZoom(t){let o=this._getOriginZoom(t)-1;for(;o<=this.options.maxZoom;){const e=this.getChildren(t);if(o++,1!==e.length)break;t=e[0].properties.cluster_id}return o}_appendLeaves(t,o,e,r,n){const i=this.getChildren(o);for(const a of i){const o=a.properties;if(o&&o.cluster?n+o.point_count<=r?n+=o.point_count:n=this._appendLeaves(t,o.cluster_id,e,r,n):n<r?n++:t.push(a),t.length===e)break}return n}_addTileFeatures(t,o,e,r,n,i){for(const a of t){const t=o[a],s=t.numPoints;let u,c,p;if(s)u=Tt(t),c=t.x,p=t.y;else{const o=this.points[t.index];u=o.properties,c=Rt(o.geometry.coordinates[0]),p=Zt(o.geometry.coordinates[1])}const l={type:1,geometry:[[Math.round(this.options.extent*(c*n-e)),Math.round(this.options.extent*(p*n-r))]],tags:u};let f;s?f=t.id:this.options.generateId?f=t.index:this.points[t.index].id&&(f=this.points[t.index].id),void 0!==f&&(l.id=f),i.features.push(l)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}_cluster(t,o){const e=[],{radius:r,extent:n,reduce:i,minPoints:a}=this.options,s=r/(n*Math.pow(2,o));for(let u=0;u<t.length;u++){const r=t[u];if(r.zoom<=o)continue;r.zoom=o;const n=this.trees[o+1],c=n.within(r.x,r.y,s),p=r.numPoints||1;let l=p;for(const t of c){const e=n.points[t];e.zoom>o&&(l+=e.numPoints||1)}if(l>=a){let t=r.x*p,a=r.y*p,s=i&&p>1?this._map(r,!0):null;const f=(u<<5)+(o+1)+this.points.length;for(const e of c){const u=n.points[e];if(u.zoom<=o)continue;u.zoom=o;const c=u.numPoints||1;t+=u.x*c,a+=u.y*c,u.parentId=f,i&&(s||(s=this._map(r,!0)),i(s,this._map(u)))}r.parentId=f,e.push(zt(t/l,a/l,f,l,s))}else if(e.push(r),l>1)for(const t of c){const r=n.points[t];r.zoom<=o||(r.zoom=o,e.push(r))}}return e}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,o){if(t.numPoints)return o?Bt({},t.properties):t.properties;const e=this.points[t.index].properties,r=this.options.map(e);return o&&r===e?Bt({},r):r}}function zt(t,o,e,r,n){return{x:Lt(t),y:Lt(o),zoom:1/0,id:e,parentId:-1,numPoints:r,properties:n}}function Dt(t,o){const[e,r]=t.geometry.coordinates;return{x:Lt(Rt(e)),y:Lt(Zt(r)),zoom:1/0,index:o,parentId:-1}}function Ft(t){return{type:"Feature",id:t.id,properties:Tt(t),geometry:{type:"Point",coordinates:[(o=t.x,360*(o-.5)),Nt(t.y)]}};var o}function Tt(t){const o=t.numPoints,e=o>=1e4?`${Math.round(o/1e3)}k`:o>=1e3?Math.round(o/100)/10+"k":o;return Bt(Bt({},t.properties),{cluster:!0,cluster_id:t.id,point_count:o,point_count_abbreviated:e})}function Rt(t){return t/360+.5}function Zt(t){const o=Math.sin(t*Math.PI/180),e=.5-.25*Math.log((1+o)/(1-o))/Math.PI;return e<0?0:e>1?1:e}function Nt(t){const o=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(o))/Math.PI-90}function Bt(t,o){for(const e in o)t[e]=o[e];return t}function Ut(t){return t.x}function Wt(t){return t.y}var Jt=e("QJ+7"),qt=e.n(Jt),Gt=e("dOe4"),Ht=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qt=(p(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={superC:new It({radius:o.props.radius,maxZoom:o.props.maxZoom,minZoom:o.props.minZoom,extent:o.props.extent,nodeSize:o.props.nodeSize,log:o.props.log}),clusterPoints:[]},o.featureClusterMap=new WeakMap,o.childrenChange=function(t){var e=o.state.superC;o.featureClusterMap=new WeakMap;var r=o.childrenToFeatures(t);e.load(r)},o.mapChange=function(t){void 0===t&&(t=!1);var e=o.props.map,r=o.state,n=r.superC,i=r.clusterPoints,a=e.getZoom(),s=e.getCanvas(),u=s.width,c=s.height,p=e.unproject([0,0]).toArray(),l=e.unproject([u,0]).toArray(),f=e.unproject([u,c]).toArray(),h=e.unproject([0,c]).toArray(),d=n.getClusters(qt()(Object(Gt.polygon)([[p,l,f,h,p]])),Math.round(a));(d.length!==i.length||t)&&o.setState({clusterPoints:d})},o.childrenToFeatures=function(t){return t.map((function(t){var e=o.feature(t&&t.props.coordinates);return o.featureClusterMap.set(e,t),e}))},o.getLeaves=function(t,e,r){return o.state.superC.getLeaves(t.properties&&t.properties.cluster_id,e||1/0,r).map((function(t){return o.featureClusterMap.get(t)}))},o.zoomToClusterBounds=function(t){var e=Array.prototype.slice.call(t.currentTarget.children),n=o.findMarkerElement(t.currentTarget,t.target),i=e.indexOf(n),a=o.state.clusterPoints[i];if(a.properties&&a.properties.cluster_id){var s=o.state.superC.getLeaves(a.properties&&a.properties.cluster_id,1/0),u=qt()(Object(Gt.featureCollection)(s));o.props.map.fitBounds(r.LngLatBounds.convert(u),{padding:o.props.zoomOnClickPadding})}},o}return Ht(o,t),o.prototype.UNSAFE_componentWillMount=function(){var t=this.props,o=t.children,e=t.map;o&&this.childrenChange(o),e.on("move",this.mapChange),e.on("zoom",this.mapChange),this.mapChange()},o.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("move",this.mapChange),t.off("zoom",this.mapChange)},o.prototype.UNSAFE_componentWillReceiveProps=function(t){this.props.children!==t.children&&t.children&&(this.childrenChange(t.children),this.mapChange(!0))},o.prototype.feature=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{}}},o.prototype.findMarkerElement=function(t,o){return o.parentElement===t?o:this.findMarkerElement(t,o.parentElement)},o.prototype.render=function(){var t=this,o=this.props,e=o.ClusterMarkerFactory,r=o.style,i=o.className,a=o.tabIndex,s=this.state.clusterPoints;return n.createElement("div",{style:r,className:i,tabIndex:a,onClick:this.props.zoomOnClick?this.zoomToClusterBounds:void 0},s.map((function(o){return o.properties&&o.properties.cluster?e(o.geometry.coordinates,o.properties.point_count,t.getLeaves.bind(t,o)):t.featureClusterMap.get(o)})))},o.defaultProps={radius:60,minZoom:0,maxZoom:16,extent:512,nodeSize:64,log:!1,zoomOnClick:!1,zoomOnClickPadding:20},o}(n.Component)),function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),Vt=function(){return(Vt=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},Xt={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},$t={"top-right":{top:62,right:10,bottom:"auto",left:"auto"},"top-left":{top:62,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:63,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:63,left:10,top:"auto",right:"auto"}},Kt={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,outline:0,padding:3},Yt={backgroundColor:"#fff",opacity:1},to={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2,borderBottomLeftRadius:2,borderBottomRightRadius:2},oo=function(){return n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("polygon",{fill:"#333333",points:"6,9 10,1 14,9"}),n.createElement("polygon",{fill:"#CCCCCC",points:"6,11 10,19 14,11"}))},eo={width:20,height:20,display:"inline-block"},ro=Object.keys($t),no=(p(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={hover:void 0},o.compassIcon=null,o.onMouseOut=function(){o.state.hover||o.setState({hover:void 0})},o.onMouseIn=function(){0!==o.state.hover&&o.setState({hover:0})},o.onClickCompass=function(){o.props.map.resetNorth()},o.onMapRotate=function(){var t="rotate("+o.props.map.transform.angle*(180/Math.PI)+"deg)";o.compassIcon&&(o.compassIcon.style.transform=t)},o.assignRef=function(t){o.compassIcon=t},o}return Qt(o,t),o.prototype.componentDidMount=function(){this.props.map.on("rotate",this.onMapRotate)},o.prototype.componentWillUnmount=function(){this.props.map.off("rotate",this.onMapRotate)},o.prototype.render=function(){var t=this.props,o=t.position,e=t.style,r=t.className,i=t.tabIndex,a=this.state.hover,s=Vt({},Kt,to,0===a?Yt:{});return n.createElement("div",{className:r,tabIndex:i,style:Vt({},Xt,$t[o],e)},n.createElement("button",{style:s,onMouseOver:this.onMouseIn,onMouseOut:this.onMouseOut,onClick:this.onClickCompass},n.createElement("span",{ref:this.assignRef,style:eo},n.createElement(oo,null))))},o.defaultProps={position:ro[0]},o}(n.Component)),function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}());p(function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return no(o,t),o.prototype.UNSAFE_componentWillMount=function(){this.loadImage(this.props)},o.prototype.componentWillUnmount=function(){o.removeImage(this.props)},o.prototype.UNSAFE_componentWillReceiveProps=function(t){var e=this.props.id;t.map!==this.props.map&&o.removeImage(this.props),t.map&&!t.map.hasImage(e)&&this.loadImage(t)},o.prototype.render=function(){return null},o.prototype.loadImage=function(t){var o=this,e=t.map,r=t.id,n=t.url,i=t.data,a=t.options,s=t.onError;i?(e.addImage(r,i,a),this.loaded()):n&&e.loadImage(n,(function(t,n){t?s&&s(t):(e.addImage(r,n,a),o.loaded())}))},o.removeImage=function(t){var o=t.id,e=t.map;e&&e.getStyle()&&e.removeImage(o)},o.prototype.loaded=function(){var t=this.props.onLoaded;t&&t()},o}(n.Component)),p(k(E)),o.c=v}}]);